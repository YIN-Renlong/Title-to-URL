<script>
    const form = document.getElementById('input-form');
    const resultDiv = document.getElementById('result');

    form.addEventListener('submit', (event) => {
        event.preventDefault();

        const link = form.link.value.trim();
        const title = form.title.value.trim();
        const month = form.month.value;
        const day = form.day.value;
        const year = (new Date()).getFullYear();

        const url = normalizeUrl(title, year, month, day);

        resultDiv.innerHTML = `<p>Your URL is:</p><p><a href="${url}">${url}</a></p>`;
    });

    function normalizeUrl(title, year, month, day) {
        // Replace any non-alphanumeric characters with a hyphen, except for apostrophes
        title = title.replace(/[^\w\s']+/g, '-');
        // Replace apostrophes with an empty string
        title = title.replace(/'/g, '');
        // Replace whitespace with a hyphen
        title = title.replace(/\s+/g, '-');
        // Remove any consecutive hyphens
        title = title.replace(/--+/g, '-');
        // Remove any leading or trailing hyphens
        title = title.replace(/^-|-$/g, '');
        // Convert the title to lowercase
        title = title.toLowerCase();
        // Construct the URL using the provided year, month, and day
        url = `https://www.website.com/${year}/${month}/${day}/${title}/`;
        return url;
    }
</script>
